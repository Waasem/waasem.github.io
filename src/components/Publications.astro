---
import { publications } from '../data/publications.js';

interface Props {
  limit?: number;
  showAll?: boolean;
}

const { limit = 5, showAll = false } = Astro.props;
const displayPubs = showAll ? publications : publications.slice(0, limit);
---

<div class="space-y-6">
  {displayPubs.map((pub) => (
    <article class="p-6 bg-gray-50 rounded-lg border-l-4 border-primary-500 hover:translate-x-1 transition-transform duration-300">
      <span class="text-xs font-semibold uppercase tracking-wider text-primary-500">
        {pub.journal} ({pub.year})
      </span>
      <h4 class="font-display text-lg font-semibold text-gray-900 mt-2 leading-snug">
        {pub.title}
      </h4>
      <p class="text-gray-600 text-sm mt-2">{pub.authors}</p>
      {pub.volume && <p class="text-gray-500 text-sm">{pub.volume}</p>}
      <a 
        href={pub.doi} 
        target="_blank" 
        rel="noopener" 
        class="inline-flex items-center gap-2 mt-3 text-primary-500 text-sm font-medium hover:underline"
      >
        <i class="fas fa-external-link-alt"></i>
        View Publication
      </a>
    </article>
  ))}
</div>

{!showAll && publications.length > limit && (
  <div class="text-center mt-8">
    <a href="/publications" class="btn btn-outline">
      <i class="fas fa-book-open"></i>
      View All Publications
    </a>
  </div>
)}
